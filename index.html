<html>

<head>
	<style type="text/css">
		#chartdiv {
			background: #3f3f4f;
			color:#ffffff;
			width	: 100%;
			height	: 500px;
		}
	</style>

	<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="http://www.amcharts.com/lib/3/amcharts.js"></script>
	<script src="http://www.amcharts.com/lib/3/serial.js"></script>
	<script src="http://www.amcharts.com/lib/3/themes/dark.js"></script>

</head>

<body>
	<div id="chartdiv"></div>
</body>


<script language="Javascript">

	$.getJSON("./pointseries.json")
	.fail(function(err, err2, err3) {
		console.log(err);
		console.log(err2);
		console.log(err3);
	})
	.done(function(result) {
		console.log(result.totals.length);

    	var chart = AmCharts.makeChart("chartdiv", {
		    "type": "serial",
		    "theme": "dark",
		    "marginRight": 80,
		    "marginTop": 17,
		    "autoMarginOffset": 20,
		    /*
			    { "date": "2012-03-01", "price": 20 }, 
			    { "date": "2012-03-02", "price": 75 }
		    */
		    "dataProvider": result.totals,
		    "valueAxes": [{
		        "logarithmic": true,
		        "dashLength": 1,
		        "guides": [{
		            "dashLength": 6,
		            "inside": true,
		            "label": "average",
		            "lineAlpha": 1,
		            "value": 90.4
		        }],
		        "position": "left"
		    }],
		    "graphs": [{
		        "bullet": "round",
		        "id": "p",
		        "bulletBorderAlpha": 1,
		        "bulletColor": "#FFFFFF",
		        "bulletSize": 7,
		        "lineThickness": 2,
		        "title": "Points",
		        "type": "smoothedLine",
		        "useLineColorForBulletBorder": true,
		        "valueField": "points"
		    },
		    {
		        "bullet": "round",
		        "id": "a",
		        "bulletBorderAlpha": 1,
		        "bulletColor": "#00FFFF",
		        "bulletSize": 7,
		        "lineThickness": 2,
		        "title": "Articles",
		        "type": "smoothedLine",
		        "useLineColorForBulletBorder": true,
		        "valueField": "articles"
		    },
		    {
		        "bullet": "round",
		        "id": "c",
		        "bulletBorderAlpha": 1,
		        "bulletColor": "#0000FF",
		        "bulletSize": 7,
		        "lineThickness": 2,
		        "title": "Comments",
		        "type": "smoothedLine",
		        "useLineColorForBulletBorder": true,
		        "valueField": "comments"
		    }],
		    "chartScrollbar": {},
		    "chartCursor": {
		        "valueLineEnabled": true,
		        "valueLineBalloonEnabled": true,
		        "valueLineAlpha": 0.5,
		        "fullWidth": true,
		        "cursorAlpha": 0.05
		    },
		    "dataDateFormat": "YYYY-MM-DD",
		    "categoryField": "date",
		    "categoryAxis": {
		        "parseDates": true
		    },
		    "export": {
		        "enabled": true
		    }
		});
    });

</script>